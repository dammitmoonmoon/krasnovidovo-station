"use strict";document.fonts.ready.then(function(){Array.from(document.querySelectorAll(".footer__fa")).forEach(function(e){e.classList.remove("footer__fa--hidden")})});var navHamburger=document.querySelector(".nav__hamburger"),navBar=document.querySelector(".nav__bar");navHamburger.classList.remove("nav__hamburger--hidden"),navBar.classList.remove("nav__bar--visible");var extraLinks=Array.from(document.querySelectorAll(".bar__extra__set"));extraLinks.forEach(function(e){e.classList.add("bar__extra__set--hidden"),e.classList.add("bar__extra__set--beautify")});var mainLinks=Array.from(document.querySelectorAll(".nav__bar__main"));mainLinks.forEach(function(e){e.classList.add("nav__bar__main--beautify")});var details=Array.from(document.querySelectorAll(".dataset__details"));details.forEach(function(e){e.classList.add("dataset__details--hide")}),navHamburger.addEventListener("click",function(){toggleClass(navBar,"nav__bar--visible")}),navHamburger.addEventListener("keyup",function(e){13===e.keyCode&&toggleClass(navBar,"nav__bar--visible")});var navBarMainLinks=Array.from(document.querySelectorAll(".nav__bar__main"));function hideItemsOnClickElsewhere(t){document.addEventListener("click",function(e){e.target!==t&&t.children[0].classList.add("bar__extra__set--hidden")}),document.addEventListener("keyup",function(e){13===event.keyCode&&e.target!==t&&t.children[0].classList.add("bar__extra__set--hidden")})}navBarMainLinks.forEach(function(e){e.addEventListener("click",function(){e.children[0].classList.toggle("bar__extra__set--hidden"),hideItemsOnClickElsewhere(e)})}),navBarMainLinks.forEach(function(t){t.addEventListener("keyup",function(e){13===e.keyCode&&(t.children[0].classList.toggle("bar__extra__set--hidden"),hideItemsOnClickElsewhere(t))})});var navbar=document.querySelector(".header__nav"),main=document.querySelector("main"),sticky=navbar.offsetTop;function activateStickyNav(){window.pageYOffset>=sticky?(navbar.classList.add("sticky"),main.classList.add("anti-sticky")):(navbar.classList.remove("sticky"),main.classList.remove("anti-sticky"))}if(window.onscroll=function(){activateStickyNav()},document.querySelector(".modal")){var modal=document.querySelector(".modal"),modalImg=document.querySelector(".modal__content"),images=Array.from(document.querySelectorAll(".figure__img")),close=document.getElementsByClassName("modal__controller__close")[0],leftArrow=document.getElementsByClassName("modal__controller__arrow--left")[0],rightArrow=document.getElementsByClassName("modal__controller__arrow--right")[0];images.forEach(function(a){a.addEventListener("click",function(e){var t=a.src.replace(/.jpg/,"-1000.jpg");modal.style.display="block",modalImg.src=t})}),close.addEventListener("click",function(){modal.style.display="none"}),leftArrow.addEventListener("click",function(){var e=collectHighResolutionImages(Array.from(document.querySelectorAll(".figure__img")))[findLeft(modalImg)];modalImg.src=e}),rightArrow.addEventListener("click",function(){var e=collectHighResolutionImages(Array.from(document.querySelectorAll(".figure__img")))[findRight(modalImg)];modalImg.src=e})}function collectHighResolutionImages(e){var t=[];return e.forEach(function(e){t.push(e.src.replace(/.jpg/,"-1000.jpg"))}),t}function findLeft(e){var t=e.src,a=collectHighResolutionImages(Array.from(document.querySelectorAll(".figure__img"))),r=a.indexOf(t);return 0==r?a.length-1:r-1}function findRight(e){var t=e.src,a=collectHighResolutionImages(Array.from(document.querySelectorAll(".figure__img"))),r=a.indexOf(t);return r==a.length-1?0:r+1}function toggleClass(e,t){if(NodeList.prototype.isPrototypeOf(e))for(var a=0;a<e.length;a++)e[a].classList.toggle(t);else e.classList.toggle(t)}function showSlide(e,t){var a=Array.from(document.querySelectorAll(".slideshow__image")),r=Array.from(document.querySelectorAll(".slideshow__dot"));return a[e].style.opacity=1,a[t].style.opacity=0,r[t].classList.remove("slideshow__dot--active"),r[e].classList.add("slideshow__dot--active"),e}function loadJSON(e){var c=new XMLHttpRequest;c.open("GET",e,!0),c.send(),c.onload=function(){if(200===c.status){var e=JSON.parse(c.responseText),t={},a=data_input[0];for(var r in e)r.startsWith(a)&&(t[r]=e[r]);var n={x:[],y:[],type:"scatter"},o=0;for(var i in t)n.x.push(o++),n.y.push(t[i][data_input[1]]);var l=[n],s={title:data_input[1]+" vs days, "+data_input[0],xaxis:{title:"days ("+data_input[0]+")"},yaxis:{title:data_input[1]}};Plotly.newPlot("plot",l,s)}else console.log("Error:",c.status,c.response)},c.onerror=function(){return console.log("An error occurred during the transaction:",c.readyState)}}function getOneYearData(){}function showDetails(e){toggleClass(e.target.parentElement.parentElement.querySelector(".dataset__description"),"dataset--hide")}function showPlot(e){toggleClass(e.target.parentElement.parentElement.querySelector(".dataset__plot"),"dataset--hide")}window.onload=function(){document.querySelector(".slideshow")&&function(){var t=function(){n==a.length-1&&(e=0);var e=n+1;return setInterval(function(){n=showSlide(e,n),e=n+1,n==a.length-1&&(e=0)},5e3)},a=Array.from(document.querySelectorAll(".slideshow__image")),r=Array.from(document.querySelectorAll(".slideshow__dot")),n=0;a[n].style.opacity=1,r[n].classList.add("slideshow__dot--active");for(var o=t(),e=function(e){r[e].addEventListener("click",function(){clearTimeout(o),n=showSlide(e,n),o=t()})},i=0;i<r.length;i++)e(i);document.querySelector(".slideshow__arrow--left").addEventListener("click",function(){clearTimeout(o);var e=n-1;0==n&&(e=a.length-1),n=showSlide(e,n),o=t()}),document.querySelector(".slideshow__arrow--right").addEventListener("click",function(){clearTimeout(o);var e=n+1;n==a.length-1&&(e=0),n=showSlide(e,n),o=t()})}()},window.onload=function(){document.getElementById("myDiv")};var data_input=[];function getValues(e,t,a){var r=[],n=document.getElementById("data_year").value,o=document.getElementById("error");if(validateYear(n,t,a)){o.innerHTML="";var i=document.getElementById("data_parameters"),l=i.options[i.selectedIndex].value;r.push(n),r.push(l),data_input=r,loadJSON(e)}else o.innerHTML="Введите год в диапазоне от "+t+" до "+a+"!"}function validateYear(e,t,a){return e=+e,!(isNaN(e)||e<t||a<e)}